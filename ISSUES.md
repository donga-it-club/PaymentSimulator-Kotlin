# 작업 항목 목록

## 1주차: 프로젝트 기본 구성
### 1.1 프로젝트 설정
- [ ] Spring Boot + Kotlin 프로젝트 생성 ✓
  - [ ] Spring Initializr를 사용하여 기본 프로젝트 생성 ✓
  - [ ] Gradle 빌드 스크립트 설정 ✓
  - [ ] 프로젝트 구조 확인 ✓
  - 🔍 **커밋 전 확인사항**: Gradle wrapper가 정상적으로 생성되었는지 확인
  - 💾 **커밋 포인트**: "feat: Spring Boot + Kotlin 프로젝트 기본 구조 생성"
- [ ] 기본 의존성 추가 ✓
  - [ ] Spring Web 의존성 추가 ✓
  - [ ] Spring Data JPA 의존성 추가 ✓
  - [ ] Spring Security 의존성 추가 ✓
  - [ ] JWT 라이브러리 의존성 추가 ✓
  - [ ] H2 Database 의존성 추가 ✓
  - [ ] Validation 의존성 추가 ✓
  - 🔍 **커밋 전 확인사항**: build.gradle.kts 파일에 모든 필요한 의존성이 추가되었는지 확인
- [ ] 애플리케이션 설정 파일 구성 ✓
  - [ ] application.yml 기본 설정 ✓
  - [ ] 개발/테스트/운영 환경 프로필 설정 ✓
  - 🔍 **커밋 전 확인사항**: application.yml 파일의 프로필 설정이 올바른지 확인
- [ ] 개발용 H2 데이터베이스 설정 ✓
  - [ ] H2 콘솔 활성화 ✓
  - [ ] 데이터베이스 연결 설정 ✓
  - 🔍 **커밋 전 확인사항**: H2 콘솔 접근 경로와 보안 설정이 올바른지 확인
- [ ] 기본 패키지 구조 설계 ✓
  - [ ] controller 패키지 생성 ✓
  - [ ] service 패키지 생성 ✓
  - [ ] repository 패키지 생성 ✓
  - [ ] model/entity 패키지 생성 ✓
  - [ ] dto 패키지 생성 ✓
  - [ ] config 패키지 생성 ✓
  - [ ] exception 패키지 생성 ✓
  - [ ] security 패키지 생성 ✓
  - [ ] util 패키지 생성 ✓
  - 🔍 **커밋 전 확인사항**: 모든 패키지가 올바른 경로에 생성되었는지 확인
  - 💾 **커밋 포인트**: "chore: 기본 패키지 구조 설계 완료"

### 1.2 데이터베이스 스키마 설계
- [ ] User 엔티티 설계
  - [ ] 기본 필드 정의 (ID, 이메일, 비밀번호, 이름)
  - [ ] 날짜 관련 필드 정의 (가입일, 마지막 로그인)
  - [ ] 관계 필드 정의 (사용자-트랜잭션 관계)
  - 🔍 **커밋 전 확인사항**: 모든 필수 필드가 포함되었는지, JPA 어노테이션이 올바르게 적용되었는지 확인
- [ ] Transaction 엔티티 설계
  - [ ] 기본 필드 정의 (ID, 금액, 상태)
  - [ ] 관계 필드 정의 (트랜잭션-사용자 관계)
  - [ ] 날짜 필드 정의 (생성일, 수정일, 완료일)
  - [ ] 상품 정보 필드 정의 (상품 ID, 수량)
  - 🔍 **커밋 전 확인사항**: 상태 열거형이 올바르게 정의되었는지, 사용자와의 관계가 올바른지 확인
- [ ] 추가 엔티티 설계 (필요시)
  - [ ] 로그 엔티티 설계
  - [ ] 상품 엔티티 설계 (가상 데이터용)
  - 🔍 **커밋 전 확인사항**: 추가 엔티티가 핵심 엔티티와 올바르게 연관되었는지 확인
- [ ] 기본 데이터베이스 스키마 생성
  - [ ] DDL 스크립트 작성 (필요시)
  - [ ] 초기 더미 데이터 SQL 작성
  - 🔍 **커밋 전 확인사항**: 스키마가 요구사항에 맞게 설계되었는지, 초기 데이터가 테스트에 적합한지 확인
  - 💾 **커밋 포인트**: "feat: 데이터베이스 스키마 설계 완료"

### 1.3 보안 구성
- [ ] Spring Security 구성
  - [ ] SecurityConfig 클래스 생성
  - [ ] 인증/인가 규칙 설정
  - [ ] CORS 설정
  - [ ] CSRF 설정
  - [ ] 예외 처리 설정
  - 🔍 **커밋 전 확인사항**: 보안 구성이 애플리케이션 요구사항에 맞게 설정되었는지 확인
- [ ] JWT 인증 구현
  - [ ] JwtTokenProvider 클래스 구현
    - [ ] 토큰 생성 메소드 구현
    - [ ] 토큰 검증 메소드 구현
    - [ ] 토큰에서 사용자 정보 추출 메소드 구현
  - [ ] JwtAuthenticationFilter 구현
    - [ ] doFilterInternal 메소드 구현
    - [ ] 토큰 기반 인증 처리 로직 구현
  - [ ] SecurityConfig에 JWT 설정 통합
    - [ ] 필터 체인에 JWT 필터 추가
    - [ ] 인증 관리자 설정
  - 🔍 **커밋 전 확인사항**: JWT 토큰 생성, 검증 로직이 올바르게 작동하는지 확인
- [ ] 비밀번호 암호화 설정
  - [ ] BCryptPasswordEncoder 빈 등록
  - [ ] 암호화 로직 유틸리티 클래스 작성 (필요시)
  - 🔍 **커밋 전 확인사항**: 비밀번호가 안전하게 암호화되어 저장되는지 확인
  - 💾 **커밋 포인트**: "feat: Spring Security 및 JWT 인증 구현"

## 2주차: 사용자 인증 및 결제 초기화 API
### 2.1 사용자 관리 기능
- [ ] User 엔티티 구현
  - [ ] JPA 엔티티 애노테이션 설정
  - [ ] 필드 및 제약조건 정의
  - [ ] 연관관계 매핑
  - 🔍 **커밋 전 확인사항**: 엔티티가 스키마 설계에 맞게 구현되었는지 확인
- [ ] UserRepository 구현
  - [ ] JpaRepository 인터페이스 상속
  - [ ] 사용자명으로 조회 메소드 추가
  - [ ] 이메일로 조회 메소드 추가
  - [ ] 존재 여부 확인 메소드 추가
  - 🔍 **커밋 전 확인사항**: 필요한 쿼리 메소드가 모두 구현되었는지 확인
- [ ] UserService 구현
  - [ ] 인터페이스 정의
  - [ ] 구현 클래스 작성
  - [ ] 사용자 저장 메소드 구현
  - [ ] 사용자 조회 메소드 구현
  - [ ] 사용자 인증 관련 메소드 구현
  - 🔍 **커밋 전 확인사항**: 비즈니스 로직이 명확하게 구현되었는지, 예외 처리가 적절한지 확인
- [ ] AuthController 구현
  - [ ] 회원가입 API 구현
    - [ ] 요청 검증 로직
    - [ ] 사용자 정보 저장 로직
    - [ ] 응답 데이터 구성
  - [ ] 로그인 API 구현
    - [ ] 자격 증명 검증 로직
    - [ ] JWT 토큰 생성 로직
    - [ ] 응답 데이터 구성
  - 🔍 **커밋 전 확인사항**: API 엔드포인트가 RESTful 원칙에 맞게 구현되었는지 확인
- [ ] DTO 클래스 구현
  - [ ] SignupRequestDto 클래스 정의
    - [ ] 필드 정의
    - [ ] 유효성 검증 애노테이션 추가
  - [ ] LoginRequestDto 클래스 정의
    - [ ] 필드 정의
    - [ ] 유효성 검증 애노테이션 추가
  - [ ] TokenResponseDto 클래스 정의
    - [ ] 토큰 정보 필드 정의
    - [ ] 만료 시간 정보 필드 정의
  - 🔍 **커밋 전 확인사항**: DTO 클래스가 API 요구사항에 맞게 정의되었는지, 유효성 검증이 적절한지 확인
  - 💾 **커밋 포인트**: "feat: 사용자 인증 기능 구현"

### 2.2 결제 초기화 API
- [ ] Payment 상태 열거형 정의
  - [ ] PENDING 상태 정의
  - [ ] SUCCESS 상태 정의
  - [ ] FAILED 상태 정의
  - [ ] CANCELLED 상태 정의
  - [ ] 상태별 설명 추가
  - 🔍 **커밋 전 확인사항**: 모든 필요한 상태가 정의되었는지, 상태별 설명이 명확한지 확인
- [ ] Transaction 엔티티 구현
  - [ ] JPA 엔티티 애노테이션 설정
  - [ ] 필드 및 제약조건 정의
  - [ ] 사용자와의 연관관계 매핑
  - [ ] 상태 변경 메소드 구현
  - 🔍 **커밋 전 확인사항**: 엔티티가 스키마 설계에 맞게 구현되었는지, 상태 관리 로직이 명확한지 확인
- [ ] TransactionRepository 구현
  - [ ] JpaRepository 인터페이스 상속
  - [ ] 사용자 ID로 조회 메소드 추가
  - [ ] 상태별 조회 메소드 추가
  - [ ] 기간별 조회 메소드 추가
  - 🔍 **커밋 전 확인사항**: 필요한 쿼리 메소드가 모두 구현되었는지 확인
- [ ] PaymentService 구현
  - [ ] 인터페이스 정의
  - [ ] 구현 클래스 작성
  - [ ] 결제 초기화 메소드 구현
    - [ ] 트랜잭션 생성 로직
    - [ ] 금액 검증 로직
    - [ ] 상품 가용성 확인 로직 (가상)
  - [ ] 공통 유틸리티 메소드 구현
  - 🔍 **커밋 전 확인사항**: 비즈니스 로직이 명확하게 구현되었는지, 트랜잭션 관리가 적절한지 확인
- [ ] PaymentController 구현
  - [ ] 결제 초기화 API 구현
    - [ ] 요청 데이터 검증
    - [ ] 서비스 메소드 호출
    - [ ] 응답 데이터 구성
    - [ ] 예외 처리
  - 🔍 **커밋 전 확인사항**: API 엔드포인트가 RESTful 원칙에 맞게 구현되었는지, 인증이 적용되었는지 확인
- [ ] DTO 클래스 구현
  - [ ] PaymentInitRequestDto 클래스 정의
    - [ ] 상품 ID, 수량, 결제 수단 필드 정의
    - [ ] 유효성 검증 애노테이션 추가
  - [ ] PaymentResponseDto 클래스 정의
    - [ ] 결제 ID, 금액, 상태 필드 정의
    - [ ] JSON 변환 설정
  - 🔍 **커밋 전 확인사항**: DTO 클래스가 API 요구사항에 맞게 정의되었는지, 유효성 검증이 적절한지 확인
  - 💾 **커밋 포인트**: "feat: 결제 초기화 API 구현"

### 2.3 기본 예외 처리
- [ ] 글로벌 예외 핸들러 구현
  - [ ] @ControllerAdvice 클래스 생성
  - [ ] 일반 예외 처리 메소드 구현
  - [ ] 유효성 검증 예외 처리 메소드 구현
  - [ ] 비즈니스 로직 예외 처리 메소드 구현
  - 🔍 **커밋 전 확인사항**: 모든 예외 유형이 적절하게 처리되는지, 응답 형식이 일관적인지 확인
- [ ] 커스텀 예외 클래스 생성
  - [ ] 기본 예외 클래스 생성
  - [ ] InvalidRequestException 클래스 구현
    - [ ] 생성자 구현
    - [ ] 오류 메시지 처리
  - [ ] ResourceNotFoundException 클래스 구현
    - [ ] 생성자 구현
    - [ ] 오류 메시지 처리
  - [ ] AuthenticationException 클래스 구현
    - [ ] 생성자 구현
    - [ ] 오류 메시지 처리
  - [ ] 공통 에러 응답 DTO 구현
    - [ ] 오류 코드 필드 정의
    - [ ] 오류 메시지 필드 정의
    - [ ] 오류 세부 정보 필드 정의
  - 🔍 **커밋 전 확인사항**: 예외 클래스 계층이 명확하게 정의되었는지, 에러 응답 형식이 API 스펙에 맞는지 확인
  - 💾 **커밋 포인트**: "feat: 글로벌 예외 처리 구현"

## 3주차: 결제 확인 및 상태 조회 API
### 3.1 결제 확인 API
- [ ] PaymentService 확장
  - [ ] 결제 확인 메소드 구현
    - [ ] 트랜잭션 조회 로직
    - [ ] 상태 검증 로직
    - [ ] 결제 처리 로직
  - [ ] 결제 성공/실패 시뮬레이션 로직
    - [ ] 랜덤 성공/실패 결정 로직 (테스트용)
    - [ ] 금액 기반 결정 로직 (예: 특정 금액은 실패)
  - [ ] 트랜잭션 관리 구현
    - [ ] @Transactional 설정
    - [ ] 롤백 처리 로직
    - [ ] 예외 발생 시 처리 로직
- [ ] PaymentController 확장
  - [ ] 결제 확인 API 구현
    - [ ] URL 경로 변수 처리
    - [ ] 요청 바디 처리
    - [ ] 서비스 메소드 호출
    - [ ] 응답 상태 코드 설정
    - [ ] 응답 데이터 구성
- [ ] DTO 클래스 추가
  - [ ] PaymentConfirmRequestDto 클래스 정의
    - [ ] 결제 수단 정보 필드 정의
    - [ ] 유효성 검증 애노테이션 추가
  - [ ] PaymentConfirmResponseDto 클래스 정의
    - [ ] 결제 결과 필드 정의
    - [ ] 거래 ID 필드 정의
    - [ ] 승인 시간 필드 정의

### 3.2 결제 상태 조회 API
- [ ] PaymentService 확장
  - [ ] 트랜잭션 조회 메소드 구현
    - [ ] ID 기반 조회 로직
    - [ ] 존재 여부 확인 로직
    - [ ] 권한 검증 로직 (선택적)
  - [ ] 트랜잭션 상태 매핑 로직 구현
    - [ ] 상태 코드를 설명 텍스트로 변환
- [ ] PaymentController 확장
  - [ ] 결제 상태 조회 API 구현
    - [ ] URL 경로 변수 처리
    - [ ] 서비스 메소드 호출
    - [ ] 응답 상태 코드 설정
    - [ ] 응답 데이터 구성
    - [ ] 오류 처리 (존재하지 않는 ID 등)
- [ ] DTO 클래스 추가
  - [ ] TransactionStatusResponseDto 클래스 정의
    - [ ] 트랜잭션 ID 필드 정의
    - [ ] 금액 필드 정의
    - [ ] 상태 필드 정의
    - [ ] 타임스탬프 필드 정의
    - [ ] 상세 정보 필드 정의 (선택적)

### 3.3 트랜잭션 로깅
- [ ] 트랜잭션 로그 엔티티 구현
  - [ ] 기본 필드 정의 (ID, 로그 레벨, 메시지)
  - [ ] 트랜잭션 관련 필드 정의 (트랜잭션 ID, 상태)
  - [ ] 타임스탬프 필드 정의
  - [ ] 추가 정보 필드 정의 (사용자 ID, IP 등)
- [ ] 로그 레포지토리 구현
  - [ ] JpaRepository 인터페이스 상속
  - [ ] 트랜잭션 ID로 조회 메소드 추가
  - [ ] 로그 레벨별 조회 메소드 추가
- [ ] 로깅 서비스 구현
  - [ ] 인터페이스 정의
  - [ ] 구현 클래스 작성
  - [ ] 로그 생성 메소드 구현
  - [ ] 로그 조회 메소드 구현
- [ ] AOP를 사용한 자동 로깅 구현
  - [ ] 로깅 포인트컷 정의
  - [ ] 어드바이스 구현 (Before, After, AfterThrowing)
  - [ ] 로그 데이터 수집 및 저장 로직

### 3.4 단위 테스트
- [ ] UserService 단위 테스트
  - [ ] 사용자 생성 테스트
  - [ ] 사용자 조회 테스트
  - [ ] 사용자 인증 테스트
  - [ ] 예외 케이스 테스트
- [ ] AuthController 단위 테스트
  - [ ] 회원가입 API 테스트
  - [ ] 로그인 API 테스트
  - [ ] 토큰 응답 테스트
  - [ ] 유효성 검증 실패 테스트
- [ ] PaymentService 단위 테스트
  - [ ] 결제 초기화 테스트
  - [ ] 결제 확인 테스트
  - [ ] 결제 상태 조회 테스트
  - [ ] 예외 케이스 테스트
- [ ] PaymentController 단위 테스트
  - [ ] 결제 초기화 API 테스트
  - [ ] 결제 확인 API 테스트
  - [ ] 결제 상태 조회 API 테스트
  - [ ] 인증 실패 테스트

## 4주차: 테스트, 성능 최적화, 문서화
### 4.1 통합 테스트
- [ ] 인증 API 통합 테스트
  - [ ] 회원가입 시나리오 테스트
  - [ ] 로그인 시나리오 테스트
  - [ ] 인증 토큰 사용 테스트
- [ ] 결제 API 통합 테스트
  - [ ] 결제 전체 흐름 테스트 (초기화→확인→조회)
  - [ ] 실패 케이스 테스트
  - [ ] 권한 관련 테스트
- [ ] Postman 컬렉션 작성 및 테스트
  - [ ] API 엔드포인트별 요청 설정
  - [ ] 인증 토큰 관리 설정
  - [ ] 테스트 환경 변수 설정
  - [ ] 테스트 스크립트 작성

### 4.2 성능 최적화
- [ ] 데이터베이스 인덱스 추가
  - [ ] 사용자 테이블 인덱스 설정
  - [ ] 트랜잭션 테이블 인덱스 설정
  - [ ] 로그 테이블 인덱스 설정
- [ ] 쿼리 최적화
  - [ ] N+1 문제 해결
  - [ ] 페이징 쿼리 최적화
  - [ ] 불필요한 조인 제거
- [ ] 동시성 처리 개선
  - [ ] 트랜잭션 격리 수준 설정
  - [ ] 낙관적 락 구현 (필요시)
  - [ ] 비관적 락 구현 (필요시)

### 4.3 보안 강화
- [ ] 입력값 검증 로직 강화
  - [ ] Bean Validation 적용 확인
  - [ ] XSS 방지 필터 추가
  - [ ] SQL 인젝션 방지 확인
- [ ] CORS 설정
  - [ ] 허용 오리진 설정
  - [ ] 허용 헤더 설정
  - [ ] 허용 메소드 설정
- [ ] 보안 헤더 설정
  - [ ] Content-Security-Policy 설정
  - [ ] X-XSS-Protection 설정
  - [ ] X-Content-Type-Options 설정

### 4.4 API 문서화
- [ ] Swagger/OpenAPI 설정
  - [ ] Swagger 의존성 추가
  - [ ] Swagger 설정 클래스 작성
  - [ ] 기본 문서 정보 설정
- [ ] API 엔드포인트 문서화
  - [ ] 컨트롤러 메소드 문서화
  - [ ] DTO 클래스 문서화
  - [ ] 응답 코드 문서화
- [ ] 요청/응답 예제 작성
  - [ ] 성공 케이스 예제
  - [ ] 실패 케이스 예제
  - [ ] 설명 추가

### 4.5 프로젝트 문서화
- [ ] README.md 업데이트
  - [ ] 프로젝트 개요 작성
  - [ ] 기술 스택 정리
  - [ ] 주요 기능 설명
- [ ] 설치 및 실행 가이드 작성
  - [ ] 요구사항 정리
  - [ ] 설치 과정 설명
  - [ ] 실행 방법 설명
  - [ ] 환경 설정 방법 설명
- [ ] API 사용 예제 추가
  - [ ] curl 명령어 예제
  - [ ] API 호출 시퀀스 정리
  - [ ] 주요 시나리오 설명

### 4.6 최종 테스트 및 점검
- [ ] 성능 테스트
  - [ ] 응답 시간 측정
  - [ ] 동시 요청 처리 테스트
  - [ ] 리소스 사용량 모니터링
- [ ] 보안 취약점 점검
  - [ ] 인증/인가 검증
  - [ ] 입력값 검증 확인
  - [ ] 토큰 보안 확인
- [ ] 코드 리뷰 및 리팩토링
  - [ ] 코드 중복 제거
  - [ ] 코드 스타일 일관성 확인
  - [ ] 불필요한 코드 제거

## 추가 개선사항 (선택)
### A. 모니터링 시스템
- [ ] 결제 성공/실패율 모니터링
  - [ ] 모니터링 지표 정의
  - [ ] 데이터 수집 로직 구현
  - [ ] 대시보드 구성 (선택적)
- [ ] API 응답 시간 모니터링
  - [ ] AOP를 활용한 응답 시간 측정
  - [ ] 임계값 설정 및 알림 구성
- [ ] 에러 로깅 및 알림 시스템
  - [ ] 에러 로그 수집 메커니즘
  - [ ] 알림 조건 및 채널 설정

### B. 추가 기능
- [ ] 결제 취소 API 구현
  - [ ] 취소 로직 구현
  - [ ] 취소 API 엔드포인트 추가
  - [ ] 취소 관련 DTO 구현
- [ ] 사용자 잔액 관리 구현
  - [ ] 잔액 엔티티 설계
  - [ ] 잔액 업데이트 로직 구현
  - [ ] 잔액 조회 API 구현
- [ ] 간단한 상품 목록 API 구현
  - [ ] 상품 엔티티 설계
  - [ ] 상품 데이터 로딩 로직
  - [ ] 상품 조회 API 구현

### C. MySQL 연동
- [ ] MySQL 데이터베이스 설정
  - [ ] MySQL 의존성 추가
  - [ ] 데이터베이스 연결 설정
  - [ ] 프로필 설정 업데이트
- [ ] 프로덕션 환경 구성
  - [ ] 프로덕션용 설정 파일 작성
  - [ ] 로깅 설정 최적화
  - [ ] 보안 설정 강화
- [ ] 데이터 마이그레이션 스크립트 작성
  - [ ] H2에서 MySQL로 스키마 이전
  - [ ] 초기 데이터 마이그레이션
  - [ ] 버전 관리 

## 일반적인 커밋 전 확인사항
1. **코드 스타일**: 코드가 프로젝트의 코딩 스타일 가이드라인을 준수하는지 확인
2. **테스트**: 새로운 기능이나 변경사항에 대한 테스트가 있는지 확인
3. **문서화**: 필요한 주석이나 문서가 업데이트되었는지 확인
4. **중복 제거**: 중복 코드가 없는지 확인
5. **불필요한 파일**: 임시 파일이나 IDE 관련 파일이 커밋에 포함되지 않는지 확인
6. **로깅**: 중요한 작업에 대한 로깅이 적절히 구현되었는지 확인
7. **보안**: 민감한 정보(비밀번호, API 키 등)가 코드에 하드코딩되지 않았는지 확인
8. **성능**: 명백한 성능 문제가 없는지 확인

## 커밋 메시지 컨벤션
- **feat**: 새로운 기능 추가
- **fix**: 버그 수정
- **docs**: 문서 변경
- **style**: 코드 포맷팅, 세미콜론 누락 등 (코드 변경 없음)
- **refactor**: 코드 리팩토링
- **test**: 테스트 코드 추가 또는 수정
- **chore**: 빌드 프로세스, 패키지 매니저 설정 등 (코드 변경 없음) 